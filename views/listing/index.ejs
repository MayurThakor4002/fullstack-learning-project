<% layout("/layouts/boilerplate.ejs") %>

    <body>
        <!-- Collapse Button -->
        <!-- Collapse Button -->
        <button class="btn btn-primary toggle-btn" type="button" data-bs-toggle="collapse"
            data-bs-target="#filterCollapse" aria-expanded="false" aria-controls="filterCollapse">
            Toggle Filters
        </button>

        <!-- Collapsible Filter Section -->
        <div id="filterCollapse" class="collapse show">
            <div id="filter">
                <div class="icons">
                    <div class="filters">
                        <i class="fa-solid fa-fire"></i>
                        <p>Trending</p>
                    </div>
                    <div class="filters">
                        <a href="/listings/category/rooms">
                            <i class="fa-solid fa-bed"></i>
                            <p>Rooms</p>
                        </a>
                    </div>
                    <div class="filters">
                        <a href="/listings/category/iconic cities">

                            <i class="fa-solid fa-city"></i>
                            <p>Iconic Cities</p>
                        </a>
                    </div>
                    <div class="filters">
                        <a href="/listings/category/mountains">

                            <i class="fa-solid fa-mountain"></i>
                            <p>Mountains</p>
                        </a>
                    </div>
                    <div class="filters">
                        <a href="/listings/category/castles">

                            <i class="fa-brands fa-fort-awesome"></i>
                            <p>Castles</p>
                        </a>
                    </div>
                    <div class="filters">
                        <a href="/listings/category/amazing pool">

                            <i class="fa-solid fa-person-swimming"></i>
                            <p>Amazing Pool</p>
                        </a>
                    </div>
                    <div class="filters">
                        <a href="/listings/category/camping">

                            <i class="fa-solid fa-campground"></i>
                            <p>Camping</p>
                        </a>
                    </div>
                    <div class="filters">
                        <a href="/listings/category/farms">

                            <i class="fa-solid fa-tractor"></i>
                            <p>Farms</p>
                        </a>
                    </div>
                    <div class="filters">
                        <a href="/listings/category/arctic">

                            <i class="fa-solid fa-snowflake"></i>
                            <p>Arctic</p>
                        </a>
                    </div>
                    <div class="filters">
                        <a href="/listings/category/iconic cities">

                            <i class="fa-solid fa-igloo"></i>
                            <p>Domes</p>
                        </a>
                    </div>
                    <div class="filters">
                        <a href="/listings/category/iconic cities">

                            <i class="fa-solid fa-ship"></i>
                            <p>Ships</p>
                        </a>
                    </div>
                </div>
                <div class="text-toggle">
                    <div class="form-check form-switch form-check-reverse">
                        <input class="form-check-input" type="checkbox" id="flexSwitchCheckReverse">
                        <label class="form-check-label" for="flexSwitchCheckReverse">Display total after Taxes</label>
                    </div>
                </div>
            </div>
        </div>


        <div class=" row row-cols-lg-3 row-cols-md-2 row-cols-sm-1">
            <% if (listings.length===0) { %>
                <h4 class="text-center">
                    No listings found
                    <% if (typeof q !=="undefined" ) { %>
                        for "<%= q %>"
                            <% } else if (typeof category !=="undefined" ) { %>
                                in "<%= category %>"
                                    <% } %>
                </h4>
                <% } else { %>
                    <% for (let listing of listings) { %>
                        <a href="/listings/<%=listing._id%>" class="text-decoration-none text-dark">
                            <div class="col d-flex justify-content-center">
                                <div class="card listing-card" style="width: 18rem;">
                                    <img src="<%=listing.image.url%>" class="card-img-top" alt="listing_image">
                                    <div class="card-img-overlay"></div>
                                    <div class="card-body">
                                        <h5 class="card-title">
                                            <%= listing.title %>
                                        </h5>
                                        <p class="card-text">
                                            <% if(listing.price) { %>
                                                &#8377; <%= listing.price.toLocaleString("en-IN") %>/night
                                                    <i class="text-info">&nbsp; +18% GST</i>
                                                    <% } %>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </a>
                        <% } %>
                            <% } %>
        </div>

    </body>